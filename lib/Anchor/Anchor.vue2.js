"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const o=require("../_shared/utils/fn.js");require("../_shared/utils/time.js"),require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js");const r=require("./hooks/useContext.js"),l={class:"yc-anchor"},t={key:0,class:"yc-anchor-line-track"},n=e.defineComponent({name:"Anchor",__name:"Anchor",props:{boundary:{default:"start"},lineLess:{type:Boolean,default:!1},scrollContainer:{default:void 0},changeHash:{type:Boolean,default:!0},smooth:{type:Boolean,default:!0}},setup(n){const s=n,a=e.ref(),u=e.ref([]),{curHref:c,hrefs:i}=r().provide(s,a),d=e.computed((()=>{const e=i.value.findIndex((e=>e==c.value));return u.value.slice(0,e+1).map((e=>e.offsetHeight)).reduce(((o,r,l)=>l==e?o+(r-12)/2:o+r),0)+2*e}));return e.onMounted((()=>{i.value.length&&(c.value=i.value[0],u.value=[...a.value.querySelectorAll(".yc-anchor-link")])})),(r,n)=>(e.openBlock(),e.createElementBlock("div",l,[r.lineLess?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",t,[e.createElementVNode("div",{class:"yc-anchor-line-slider",style:e.normalizeStyle({top:e.unref(o.valueToPx)(d.value)})},null,4)])),e.createElementVNode("div",{class:"yc-anchor-list",ref_key:"listRef",ref:a},[e.renderSlot(r.$slots,"default",{},void 0,!0)],512)]))}});module.exports=n;
