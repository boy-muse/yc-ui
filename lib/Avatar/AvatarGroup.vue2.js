"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const t=require("../_shared/utils/fn.js");require("../_shared/utils/time.js");const l=require("../_shared/utils/vue-utils.js");require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js");const o=require("./hooks/useContext.js"),r=require("./index.js"),n=require("../Popover/index.js"),s={class:"yc-avatar-group"},a=e.defineComponent({name:"AvatarGroup",__name:"AvatarGroup",props:{shape:{default:"round"},size:{default:40},autoFixFontSize:{type:Boolean,default:!0},maxCount:{default:0},zIndexAscend:{type:Boolean,default:!1},maxStyle:{default:()=>({})},maxPopoverTriggerProps:{default:()=>({})}},setup(a){const u=a,{maxCount:i}=e.toRefs(u);o().provide(u);const d=e.useSlots(),c=e.computed((()=>{var e;const t=l.findComponentsFromVnodes((null==(e=d.default)?void 0:e.call(d))||[],r.default.name);return{visible:i.value>0?t.slice(0,i.value):t,hide:t.slice(i.value)}}));return(l,o)=>(e.openBlock(),e.createElementBlock("div",s,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value.visible,((o,r)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o),{key:r,style:e.normalizeStyle({zIndex:l.zIndexAscend?r+1:c.value.visible.length-r,marginLeft:r?e.unref(t.valueToPx)(-l.size/4):""})},null,8,["style"])))),128)),e.unref(i)>0&&c.value.hide.length?(e.openBlock(),e.createBlock(e.unref(n),{key:0,"trigger-props":l.maxPopoverTriggerProps},{content:e.withCtx((()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value.hide,((o,r)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o),{key:r,style:e.normalizeStyle({border:"2px solid #fff",zIndex:l.zIndexAscend?r+1:c.value.hide.length-r,marginLeft:r?e.unref(t.valueToPx)(-l.size/4):""})},null,8,["style"])))),128))])),default:e.withCtx((()=>[e.createVNode(e.unref(r.default),{style:e.normalizeStyle({zIndex:l.zIndexAscend?c.value.visible.length:0,marginLeft:e.unref(t.valueToPx)(-l.size/4),...l.maxStyle})},{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(`+${c.value.hide.length}`),1)])),_:1},8,["style"])])),_:1},8,["trigger-props"])):e.createCommentVNode("",!0)]))}});module.exports=a;
