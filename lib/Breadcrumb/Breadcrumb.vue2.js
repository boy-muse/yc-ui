"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const r=require("../_shared/utils/is.js");require("../_shared/utils/time.js");const t=require("../_shared/utils/vue-utils.js");require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js"),require("./index.js");const o=require("./BreadcrumbSeparator.vue.js"),l=require("./BreadcrumbMore.vue.js"),a=require("./BreadcrumbItem.vue.js"),s={class:"yc-breadcrumb"},n=e.defineComponent({name:"Breadcrumb",__name:"Breadcrumb",props:{maxCount:{default:0},routes:{default:()=>[]},separator:{default:""},customUrl:{type:Function,default:void 0}},setup(n){const u=n,{maxCount:c,routes:i}=e.toRefs(u),p=e.useSlots(),d=e.computed((()=>{var e;const r=t.findComponentsFromVnodes((null==(e=p.default)?void 0:e.call(p))||[],a.name);return c.value>0&&r.length>c.value?[...r.slice(0,1),{type:"more-icon"},...r.slice(r.length-c.value+1,r.length)]:r})),m=e.computed((()=>{const e=i.value.map(((e,r)=>({...e,index:r})));return c.value>0&&e.length>c.value?[...e.slice(0,1),"more-icon",...e.slice(e.length-c.value+1,e.length)]:i.value})),v=e=>i.value.slice(0,e+1).map((e=>{var r;return null==(r=e.path)?void 0:r.replace(/\//g,"")}));return(t,n)=>(e.openBlock(),e.createElementBlock("div",s,[t.$slots.default?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(d.value,((r,a)=>{var s,n;return e.openBlock(),e.createElementBlock(e.Fragment,{key:a},["more-icon"==(null==r?void 0:r.type)?(e.openBlock(),e.createBlock(l,{key:0,slots:e.unref(p)},null,8,["slots"])):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(r),{key:1})),a<d.value.length-1?(e.openBlock(),e.createBlock(o,{key:2,separator:t.separator,"separator-slots":t.$slots.separator,"item-separator":null==(s=r.props)?void 0:s.separator,"item-separator-slots":null==(n=r.children)?void 0:n.separator},null,8,["separator","separator-slots","item-separator","item-separator-slots"])):e.createCommentVNode("",!0)],64)})),128)):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(m.value,((s,n)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:s.path},[e.unref(r.isString)(s)?(e.openBlock(),e.createBlock(l,{key:0,slots:e.unref(p)},null,8,["slots"])):e.renderSlot(t.$slots,"item-render",{key:1,route:s,routes:e.unref(i),paths:v(s.index)},(()=>{var r;return[e.createVNode(e.unref(a),{path:s.index==m.value.length-1?s.path:(null==(r=t.customUrl)?void 0:r.call(t,v(s.index)))??s.path,droplist:s.children},{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(s.label),1)])),_:2},1032,["path","droplist"])]}),!0),n<e.unref(i).length-1?(e.openBlock(),e.createBlock(o,{key:2,separator:t.separator,"separator-slots":t.$slots.separator},null,8,["separator","separator-slots"])):e.createCommentVNode("",!0)],64)))),128))]))}});module.exports=n;
