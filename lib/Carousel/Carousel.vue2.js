"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const r=require("../_shared/utils/is.js");require("../_shared/utils/time.js"),require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js");const o=require("./hooks/useContext.js"),t=require("./CarouselArrow.vue.js"),a=require("./CarouselIndicator.vue.js"),n={key:0,class:"yc-carousel-indicator-wrapper"},i={key:1,class:"yc-carousel-arrow-wrapper"},l=e.defineComponent({name:"Carousel",__name:"Carousel",props:{current:{default:void 0},defaultCurrent:{default:1},autoPlay:{type:[Boolean,Object],default:!1},moveSpeed:{default:500},animationName:{default:"slide"},trigger:{default:"click"},direction:{default:"horizontal"},showArrow:{default:"always"},arrowClass:{default:""},indicatorType:{default:"dot"},indicatorPosition:{default:"bottom"},indicatorClass:{default:""},transitionTimingFunction:{default:"cubic-bezier(0.34, 0.69, 0.1, 1)"}},emits:["update:current","change"],setup(l,{emit:s}){const u=l,c=s,{slideTo:d,computedCurrent:m,autoPlay:p,carouselItems:v}=o().provide(u,c);let y=null;const f=()=>{var e;p.value&&(y=setInterval((()=>{d(m.value+1)}),(null==(e=p.value)?void 0:e.interval)??3e3))},C=()=>{clearInterval(y),y=null},h=async e=>{C(),await d(e),f()};return e.watch((()=>p.value),(()=>{if(!p.value)return C();f()}),{immediate:!0}),e.onBeforeUnmount((()=>{C()})),(o,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["yc-carousel",`yc-carousel-animation-${o.animationName}`,{"yc-carousel-indicator-outer":"outer"==o.indicatorPosition}])},[e.createElementVNode("div",{class:e.normalizeClass(["yc-carousel-slide",`yc-carousel-direction-${o.direction}`]),onMouseenter:l[0]||(l[0]=o=>{var t;return e.unref(r.isObject)(e.unref(p))&&(null==(t=e.unref(p))?void 0:t.hoverToPause)&&C()}),onMouseleave:l[1]||(l[1]=o=>{var t;return e.unref(r.isObject)(e.unref(p))&&(null==(t=e.unref(p))?void 0:t.hoverToPause)&&f()})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),((r,o)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(r),{index:o+1},null,8,["index"])))),256))],34),"never"!=o.indicatorType?(e.openBlock(),e.createElementBlock("div",n,[e.createVNode(a,{"indicator-class":o.indicatorClass,trigger:o.trigger,"indicator-position":o.indicatorPosition,"indicator-type":o.indicatorType,onChange:h},null,8,["indicator-class","trigger","indicator-position","indicator-type"])])):e.createCommentVNode("",!0),"never"!=o.showArrow?(e.openBlock(),e.createElementBlock("div",i,[e.createVNode(t,{type:"pre",onChange:h}),e.createVNode(t,{type:"next",onChange:h})])):e.createCommentVNode("",!0)],2))}});module.exports=l;
