"use strict";const e=require("vue");require("../../node_modules/tinycolor2/esm/tinycolor.js"),require("../../_shared/utils/dom.js");const r=require("../../_shared/utils/fn.js");require("../../_shared/utils/time.js");const t=require("../../_shared/utils/vue-utils.js");require("../../Empty/index.js"),require("../../_shared/icons/_Icon.vue.js");const o=require("../../_shared/utils/control.js"),i=require("../CarouselItem.vue.js"),n="carousel-context";module.exports=()=>({provide:(u,a)=>{const{current:s,defaultCurrent:l,transitionTimingFunction:d,animationName:c,moveSpeed:v,direction:m,showArrow:p,arrowClass:f,autoPlay:h}=e.toRefs(u),g=e.useSlots(),j=e.computed((()=>{var e;return t.findComponentsFromVnodes((null==(e=g.default)?void 0:e.call(g))||[],i.name)})),w=e.computed((()=>j.value.length)),q=o(s,l.value,(e=>{a("update:current",e)})),y=e.ref("positive"),C=e.ref(q.value);let _=null;const x=e=>e<0?w.value-1:e>w.value?e%w.value:e;return e.provide(n,{length:w,computedCurrent:q,transitionTimingFunction:d,animationName:c,moveSpeed:v,direction:m,showArrow:p,arrowClass:f,moveType:y,preIndex:C,getValidIndex:x}),{carouselItems:j,computedCurrent:q,length:w,autoPlay:h,slideTo:async e=>{_||e==q.value||(y.value=e>q.value?"positive":"negative",C.value=q.value,q.value=x(e),a("change",q.value,C.value,!0),await r.sleep(v.value),_=null)}}},inject:()=>e.inject(n,{length:e.ref(0),computedCurrent:e.ref(1),transitionTimingFunction:e.ref("cubic-bezier(0.34, 0.69, 0.1, 1)"),animationName:e.ref("slide"),moveSpeed:e.ref(500),direction:e.ref("horizontal"),showArrow:e.ref("always"),arrowClass:e.ref(""),preIndex:e.ref(0),moveType:e.ref("positive"),getValidIndex:()=>0})});
