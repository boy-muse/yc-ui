"use strict";const e=require("vue"),l=require("../_shared/utils/color.js");require("../_shared/utils/dom.js"),require("../_shared/utils/time.js"),require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js");const a=require("../_shared/constants/index.js"),o=require("../Select/index.js"),r=require("../Input/index.js"),t=require("../InputNumber/index.js"),u={class:"yc-color-picker-input-wrapper"},s={class:"yc-color-picker-format"},d={class:"yc-color-picker-color"},n=e.defineComponent({__name:"ColorInput",props:{color:{},baseColor:{},alpha:{},disabled:{type:Boolean},disabledAlpha:{type:Boolean}},emits:["update:color","update:baseColor","update:alpha","change"],setup(n,{emit:i}){const c=n,p=i,{color:m,alpha:b}=e.toRefs(c),h=e.ref("hex"),v=e.ref(""),V=e.ref({}),g=e.ref(b.value),x=e=>{if("hex"==e){const e=l.parseColor(m.value).getAlpha(),a=l.parseColor(v.value).setAlpha(e).toHex8();p("update:color",a),p("update:baseColor",a),p("change",a,"color")}else if("rgb"==e){const{r:e,g:l,b:a}=V.value,o=`rgb(${e},${l},${a})`;p("update:color",o),p("update:baseColor",o),p("change",o,"color")}else{const e=+(g.value/100).toFixed(2),a=l.parseColor(m.value).setAlpha(e).toRgbString();p("update:color",a),p("update:alpha",g.value),p("change",a,"alpha")}};return e.watch((()=>m.value),(()=>{v.value=l.parseColor(m.value).toHex(),V.value=l.parseColor(m.value).toRgb()}),{immediate:!0}),e.watch((()=>b.value),(()=>{g.value=100*b.value})),(l,n)=>(e.openBlock(),e.createElementBlock("div",u,[e.createElementVNode("div",s,[e.createVNode(e.unref(o.default),{modelValue:h.value,"onUpdate:modelValue":n[0]||(n[0]=e=>h.value=e),options:e.unref(a.COLOR_PICKER_FORMAT_OPTIONS),"trigger-props":{contentClass:"yc-color-picker-format-popup-content"},size:"mini"},null,8,["modelValue","options"])]),e.createElementVNode("div",d,["hex"==h.value?(e.openBlock(),e.createBlock(e.unref(r),{key:0,modelValue:v.value,"onUpdate:modelValue":n[1]||(n[1]=e=>v.value=e),"max-length":6,disabled:l.disabled,size:"mini",class:"hex-input",onBlur:n[2]||(n[2]=e=>x("hex")),onPressEnter:n[3]||(n[3]=e=>x("hex"))},{prefix:e.withCtx((()=>n[16]||(n[16]=[e.createTextVNode(" # ")]))),_:1},8,["modelValue","disabled"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(e.unref(t),{modelValue:V.value.r,"onUpdate:modelValue":n[4]||(n[4]=e=>V.value.r=e),min:0,max:255,disabled:l.disabled,size:"mini",class:"rgb-input","hide-button":"",onBlur:n[5]||(n[5]=e=>x("rgb")),onPressEnter:n[6]||(n[6]=e=>x("rgb"))},null,8,["modelValue","disabled"]),e.createVNode(e.unref(t),{modelValue:V.value.g,"onUpdate:modelValue":n[7]||(n[7]=e=>V.value.g=e),min:0,max:255,disabled:l.disabled,size:"mini",class:"rgb-input","hide-button":"",onBlur:n[8]||(n[8]=e=>x("rgb")),onPressEnter:n[9]||(n[9]=e=>x("rgb"))},null,8,["modelValue","disabled"]),e.createVNode(e.unref(t),{modelValue:V.value.b,"onUpdate:modelValue":n[10]||(n[10]=e=>V.value.b=e),min:0,max:255,disabled:l.disabled,class:"rgb-input",size:"mini","hide-button":"",onBlur:n[11]||(n[11]=e=>x("rgb")),onPressEnter:n[12]||(n[12]=e=>x("rgb"))},null,8,["modelValue","disabled"])],64)),l.disabledAlpha?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(t),{key:2,modelValue:g.value,"onUpdate:modelValue":n[13]||(n[13]=e=>g.value=e),min:0,max:100,disabled:l.disabled,size:"mini","hide-button":"",class:"alpha-input",onBlur:n[14]||(n[14]=e=>x("alpha")),onPressEnter:n[15]||(n[15]=e=>x("alpha"))},{suffix:e.withCtx((()=>n[17]||(n[17]=[e.createTextVNode(" % ")]))),_:1},8,["modelValue","disabled"]))])]))}});module.exports=n;
