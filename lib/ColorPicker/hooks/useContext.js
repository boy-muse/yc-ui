"use strict";const e=require("vue"),r=require("../../_shared/utils/color.js");require("../../_shared/utils/dom.js"),require("../../_shared/utils/time.js");const o=require("../../_shared/utils/global-config.js"),s=require("../../_shared/utils/control.js"),i="color-picker-context";module.exports=()=>({provide:(l,t)=>{const{modelValue:a,defaultValue:u,format:d,disabled:p,disabledAlpha:h,showHistory:f,showPreset:c,historyColors:g,presetColors:n,hideTrigger:b}=e.toRefs(l),{size:m}=o.getGlobalConfig(l),C=e.ref(100),v=s(a,u.value,(e=>{t("update:modelValue",e),t("change",e)}),(e=>{const o=r.parseColor(e),s=o.getAlpha();return s!=C.value&&(C.value=100*s),"hex"==d.value?1==s?o.toHexString():o.toHex8String():o.toRgbString()})),j=e.ref(v.value),q=e.ref(!1);return e.provide(i,{emits:t,popupVisible:q,computedColor:v,baseColor:j,alpha:C,format:d,disabled:p,disabledAlpha:h,showHistory:f,showPreset:c,hideTrigger:b,presetColors:n,historyColors:g}),{popupVisible:q,size:m,computedColor:v}},inject:()=>e.inject(i,{emits:()=>{},popupVisible:e.ref(!1),computedColor:e.ref(""),baseColor:e.ref(""),alpha:e.ref(100),format:e.ref("hex"),disabled:e.ref(!1),disabledAlpha:e.ref(!1),showHistory:e.ref(!1),showPreset:e.ref(!1),hideTrigger:e.ref(!1),presetColors:e.ref([]),historyColors:e.ref([])})});
