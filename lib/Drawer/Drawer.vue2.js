"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const o=require("../_shared/utils/fn.js");require("../_shared/utils/time.js");const t=require("../_shared/utils/global-config.js"),l=require("../Modal/hooks/useModalClose.js"),a=require("../Button/index.js"),r=require("../_shared/components/IconButton.vue.js");require("../_shared/components/ExpandTransition.vue.js");const n={key:0,class:"yc-drawer-header"},s={class:"yc-drawer-title text-ellipsis"},i={class:"yc-drawer-body"},d={key:0,class:"yc-drawer-footer"},c=e.defineComponent({name:"Drawer",inheritAttrs:!1,__name:"Drawer",props:{visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},placement:{default:"right"},title:{default:""},mask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},okText:{default:"确认"},cancelText:{default:"取消"},okLoading:{type:Boolean,default:!1},okButtonProps:{default:()=>({})},cancelButtonProps:{default:()=>({})},unmountOnClose:{type:Boolean,default:!1},width:{default:250},height:{default:250},popupContainer:{default:void 0},drawerStyle:{default:()=>({})},escToClose:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},header:{type:Boolean,default:!0},footer:{type:Boolean,default:!0},hideCancel:{type:Boolean,default:!1},onBeforeCancel:{type:Function,default:()=>!0},onBeforeOk:{type:Function,default:()=>!0}},emits:["update:visible","ok","cancel","before-open","open","before-close","close"],setup(c,{emit:u}){const f=c,m=u,{visible:p,defaultVisible:y,width:B,height:k,placement:h,maskClosable:v,escToClose:C,drawerStyle:w,renderToBody:b}=e.toRefs(f),{onBeforeOk:g,onBeforeCancel:V}=f,{zIndex:x,popupContainer:T}=t.getGlobalConfig(f),N=e.computed((()=>({height:"left"==h.value||"right"==h.value?"100%":o.valueToPx(k.value),width:"left"==h.value||"right"==h.value?o.valueToPx(B.value):"100%",...w.value}))),{outerVisible:S,innerVisible:_,asyncLoading:$,handleClose:q,handleAfterLeave:E}=l({visible:p,defaultVisible:y,escToClose:C,maskClosable:v,onBeforeCancel:V,onBeforeOk:g,emits:m});return(o,t)=>(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(T),disabled:!e.unref(b)},[!o.unmountOnClose||e.unref(S)?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["yc-drawer-wrapper",`yc-drawer-placement-${e.unref(h)}`,{"yc-drawer-position-absolute":e.unref(T)||!e.unref(b)}]),style:e.normalizeStyle({zIndex:e.unref(x)})},[e.createVNode(e.Transition,{name:"fade"},{default:e.withCtx((()=>[o.mask?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:"yc-drawer-mask",onClick:t[0]||(t[0]=o=>e.unref(q)("mask",o))},null,512)),[[e.vShow,e.unref(_)]]):e.createCommentVNode("",!0)])),_:1}),e.createVNode(e.Transition,{name:`slide-drawer-${e.unref(h)}`,onBeforeEnter:t[4]||(t[4]=e=>o.$emit("before-open")),onBeforeLeave:t[5]||(t[5]=e=>o.$emit("before-close")),onAfterEnter:t[6]||(t[6]=e=>o.$emit("open")),onAfterLeave:e.unref(E)},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass(["yc-drawer-container",o.$attrs.class]),style:e.normalizeStyle({...N.value,...o.$attrs.style??{}})},[e.renderSlot(o.$slots,"header",{},(()=>[o.header?(e.openBlock(),e.createElementBlock("div",n,[e.createElementVNode("div",s,[e.renderSlot(o.$slots,"title",{},(()=>[e.createTextVNode(e.toDisplayString(o.title),1)]),!0)]),o.closable?(e.openBlock(),e.createBlock(e.unref(r),{key:0,class:"yc-modal-close-button",onClick:t[1]||(t[1]=o=>e.unref(q)("closeBtn",o))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),!0),e.createElementVNode("div",i,[e.renderSlot(o.$slots,"default",{},void 0,!0)]),e.renderSlot(o.$slots,"footer",{},(()=>[o.footer?(e.openBlock(),e.createElementBlock("div",d,[o.hideCancel?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(a.default),e.mergeProps({key:0},o.cancelButtonProps,{onClick:t[2]||(t[2]=o=>e.unref(q)("cancelBtn",o))}),{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(o.cancelText),1)])),_:1},16)),e.createVNode(e.unref(a.default),e.mergeProps({type:"primary",loading:o.okLoading||e.unref($)},o.okButtonProps,{onClick:t[3]||(t[3]=o=>e.unref(q)("confirmBtn",o))}),{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(o.okText),1)])),_:1},16,["loading"])])):e.createCommentVNode("",!0)]),!0)],6),[[e.vShow,e.unref(_)]])])),_:3},8,["name","onAfterLeave"])],6)),[[e.vShow,e.unref(S)]]):e.createCommentVNode("",!0)],8,["to","disabled"]))}});module.exports=c;
