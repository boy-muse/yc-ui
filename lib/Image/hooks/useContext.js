"use strict";const e=require("vue");require("../../node_modules/tinycolor2/esm/tinycolor.js"),require("../../_shared/utils/dom.js"),require("../../_shared/utils/time.js");const r=require("../../_shared/utils/vue-utils.js");require("../../Empty/index.js"),require("../../_shared/icons/_Icon.vue.js");const u=require("../../_shared/utils/control.js"),t=require("../Image.vue.js"),s="image-context";module.exports=()=>({provide:(i,l)=>{const{srcList:n,current:o,defaultCurrent:a,visible:d,defaultVisible:c}=e.toRefs(i),v=e.useSlots(),m=e.computed((()=>{var e;if(n.value.length)return n.value;if(!v.default)return[];return r.findComponentsFromVnodes((null==(e=v.default)?void 0:e.call(v))||[],t.name).map((e=>{var r;return null==(r=null==e?void 0:e.props)?void 0:r.src}))})),p=u(o,a.value,(e=>{l("update:current",e),l("change",e)})),h=u(d,c.value,(e=>{l("update:visible",e),l("visible-change",e)})),f=e.computed((()=>m.value[p.value]));return e.provide(s,{hasGroupFather:e.ref(!0),handleClick:e=>{const r=m.value.findIndex((r=>r==e));p.value=r,h.value=!0}}),{src:f,srcList:m,computedCurrent:p,computedVisible:h}},inject:()=>e.inject(s,{hasGroupFather:e.ref(!1),handleClick:()=>{}})});
