"use strict";const e=require("vue");module.exports=function(t){const n=e.ref();function l(){if(!t.value||!n.value)return;const{value:e}=t.value,{beforeTxt:l,afterTxt:r,selectionStart:u}=n.value;if(!l||!r||!u)return;let s=e.length;if(e.endsWith(r))s=e.length-r.length;else if(e.startsWith(l))s=l.length;else{const t=l[u-1],n=e.indexOf(t,u-1);-1!==n&&(s=n+1)}return s}return{recordCursor:function(){if(!t.value)return;const{selectionStart:e,selectionEnd:l,value:r}=t.value;if(null==e||null==l)return;const u=r.slice(0,Math.max(0,e)),s=r.slice(Math.max(0,l));n.value={selectionStart:e,selectionEnd:l,value:r,beforeTxt:u,afterTxt:s}},setCursor:function(){var e;const n=l();n&&(null==(e=t.value)||e.setSelectionRange(n,n))},getCursor:l,selectionRef:n}};
