"use strict";const e=require("vue"),u=require("../../node_modules/@vueuse/core/index.js");require("../../node_modules/tinycolor2/esm/tinycolor.js"),require("../../_shared/utils/dom.js");const a=require("../../_shared/utils/fn.js");require("../../_shared/utils/time.js"),require("../../Empty/index.js"),require("../../_shared/icons/_Icon.vue.js");module.exports=l=>{const{visible:r,triggerRef:v,modalRef:i,draggable:t,fullscreen:o,alignCenter:s,top:n}=l,d=e.ref(0),f=e.ref(0),{x:c,y:g}=u.useDraggable(v,{onMove(){if(!h.value)return;const e=window.innerWidth-i.value.offsetWidth,u=window.innerHeight-i.value.offsetHeight;c.value=c.value>=e?e:c.value,c.value=c.value<=0?0:c.value,g.value=g.value>=u?u:g.value,g.value=g.value<=0?0:g.value}}),h=e.computed((()=>t.value&&!o.value)),m=e.computed((()=>!h.value||c.value==d.value&&g.value==f.value?{left:a.valueToPx(d.value),top:a.valueToPx(f.value)}:{transform:`translate(${a.valueToPx(c.value)},${a.valueToPx(g.value)})`}));return e.watch((()=>r.value),(async e=>{if(!e)return;await a.sleep(0);const u=(window.innerWidth-i.value.offsetWidth)/2,l=(window.innerHeight-i.value.offsetHeight)/2,r=u<=0?0:u,v=l<=0?0:l;d.value=r,f.value=s.value?v:n.value,c.value=d.value,g.value=f.value}),{immediate:!0}),{dragStyle:m,isDraggable:h}};
