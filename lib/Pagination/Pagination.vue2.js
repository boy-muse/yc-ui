"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const t=require("../_shared/utils/fn.js"),a=require("../_shared/utils/is.js");require("../_shared/utils/time.js"),require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js");const o=require("./hooks/useContext.js"),l=require("./PaginationItem.vue.js"),n=require("../Select/index.js"),i=require("../InputNumber/index.js"),s={key:0,class:"yc-pagination-total"},r={key:1,class:"yc-pagination-jumper yc-pagination-jumper-simple"},u={class:"yc-pagination-jumper-total-page"},p={key:1,class:"yc-pagination-options"},d={key:2,class:"yc-pagination-jumper"},c=e.defineComponent({name:"Pagination",__name:"Pagination",props:{total:{},current:{default:void 0},defaultCurrent:{default:1},pageSize:{default:void 0},defaultPageSize:{default:10},disabled:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showMore:{type:Boolean,default:!1},showJumper:{type:Boolean,default:!1},showPageSize:{type:Boolean,default:!1},pageSizeOptions:{default:()=>[10,20,30,40,50]},pageSizeProps:{default:()=>({})},size:{default:void 0},pageItemStyle:{default:()=>({})},activePageItemStyle:{default:()=>({})},baseSize:{default:6},bufferSize:{default:2},autoAdjust:{type:Boolean,default:!0}},emits:["update:current","update:pageSize","change","page-size-change"],setup(c,{emit:m}){const g=c,f=m,{computedCurrent:y,pages:v,pagesArray:k,computedPageSize:V,size:h,total:B,sizeOptions:S}=o().provide(g,f),z=e.ref(y.value);e.watch((()=>y.value),(()=>{z.value!=y.value&&(z.value=y.value)}));const N=async e=>{`${z.value}`.length&&(y.value=z.value),await t.sleep(0);const a=e.target;+a.value!=y.value&&(a.value=y.value)};return(t,o)=>!t.hideOnSinglePage||t.hideOnSinglePage&&e.unref(v)<=1?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["yc-pagination",`yc-pagination-size-${e.unref(h)}`])},[t.showTotal?(e.openBlock(),e.createElementBlock("span",s,[e.renderSlot(t.$slots,"total",{total:e.unref(B)},(()=>[e.createTextVNode(" 共 "+e.toDisplayString(e.unref(B))+" 条 ",1)]),!0)])):e.createCommentVNode("",!0),e.createElementVNode("ul",{class:e.normalizeClass([t.simple?"yc-pagination-simple":"yc-pagination-list"])},[e.createVNode(l,{type:"pre",class:"yc-pagination-item-previous"},{default:e.withCtx((()=>[t.$slots["page-item-step"]?e.renderSlot(t.$slots,"page-item-step",{key:0,type:"previous"},void 0,!0):e.createCommentVNode("",!0)])),_:3}),t.simple?(e.openBlock(),e.createElementBlock("span",r,[e.createVNode(e.unref(i),{modelValue:e.unref(y),"onUpdate:modelValue":o[0]||(o[0]=t=>e.isRef(y)?y.value=t:null),"hide-button":"",size:e.unref(h),disabled:t.disabled},null,8,["modelValue","size","disabled"]),o[4]||(o[4]=e.createElementVNode("span",{class:"yc-pagination-jumper-separator"},"/",-1)),e.createElementVNode("span",u,e.toDisplayString(e.unref(v)),1)])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(e.unref(k),(o=>(e.openBlock(),e.createBlock(l,{type:e.unref(a.isNumber)(o)?"item":o,key:o,page:e.unref(a.isNumber)(o)?o:-1},{default:e.withCtx((()=>[e.unref(a.isNumber)(o)?e.renderSlot(t.$slots,"page-item",{key:0,page:o},(()=>[e.createTextVNode(e.toDisplayString(o),1)]),!0):t.$slots["page-item-ellipsis"]?e.renderSlot(t.$slots,"page-item-ellipsis",{key:1},void 0,!0):e.createCommentVNode("",!0)])),_:2},1032,["type","page"])))),128)),t.showMore&&!t.simple?(e.openBlock(),e.createBlock(l,{key:2,type:"more-right",class:"'yc-pagination-item-ellipsis'"})):e.createCommentVNode("",!0),e.createVNode(l,{type:"next",class:"yc-pagination-item-next"},{default:e.withCtx((()=>[t.$slots["page-item-step"]?e.renderSlot(t.$slots,"page-item-step",{key:0,type:"next"},void 0,!0):e.createCommentVNode("",!0)])),_:3})],2),t.showPageSize?(e.openBlock(),e.createElementBlock("span",p,[e.createVNode(e.unref(n.default),e.mergeProps({modelValue:e.unref(V),"onUpdate:modelValue":o[1]||(o[1]=t=>e.isRef(V)?V.value=t:null),options:e.unref(S),size:e.unref(h)},t.pageSizeProps,{disabled:t.disabled}),null,16,["modelValue","options","size","disabled"])])):e.createCommentVNode("",!0),t.showJumper?(e.openBlock(),e.createElementBlock("span",d,[o[5]||(o[5]=e.createElementVNode("span",{class:"yc-pagination-jumper-text-goto"}," 前往 ",-1)),e.createVNode(e.unref(i),{modelValue:z.value,"onUpdate:modelValue":o[2]||(o[2]=e=>z.value=e),"hide-button":"",size:e.unref(h),disabled:t.disabled,min:1,max:e.unref(v),onFocus:o[3]||(o[3]=t=>z.value=e.unref(y)),onBlur:N},null,8,["modelValue","size","disabled","max"])])):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0)}});module.exports=c;
