"use strict";const e=require("vue");require("../../node_modules/tinycolor2/esm/tinycolor.js"),require("../../_shared/utils/dom.js"),require("../../_shared/utils/time.js");const a=require("../../_shared/utils/global-config.js"),t=require("../../_shared/utils/control.js"),u="pagination-context";module.exports=()=>({provide:(r,l)=>{const{disabled:i,current:s,defaultCurrent:o,pageSize:p,defaultPageSize:v,pageSizeOptions:d,pageItemStyle:n,activePageItemStyle:c,baseSize:g,bufferSize:f,autoAdjust:m,total:S}=e.toRefs(r),{size:z}=a.getGlobalConfig(r),h=t(m.value?S:e.ref(),m.value?0:S.value),b=e.computed((()=>{const e=Math.ceil(h.value/P.value);return e<=1?1:e})),y=e.computed((()=>{if(b.value<g.value)return new Array(b.value).fill(void 0).map(((e,a)=>a+1));const e=[],a=j.value-f.value>1,t=j.value+f.value<b.value;let u=0;u=a?t?j.value-f.value:b.value-2*f.value:2;let r=0;r=t?a?j.value+f.value:1+2*f.value:b.value-1,e.push(1),a&&e.push("more-left");for(let l=u;l<=r;l++)e.push(l);return t&&e.push("more-right"),e.push(b.value),e})),j=t(s,o.value,(e=>{l("update:current",e),l("change",e)})),P=t(p,v.value,(e=>{j.value=1,l("update:pageSize",e),l("page-size-change",e)})),q=e.computed((()=>d.value.map((e=>({label:`${e}条/页`,value:e})))));return e.provide(u,{computedCurrent:j,computedPageSize:P,disabled:i,pageItemStyle:n,activePageItemStyle:c,pages:b,baseSize:g,bufferSize:f}),{total:h,size:z,pages:b,pagesArray:y,computedCurrent:j,computedPageSize:P,sizeOptions:q}},inject:()=>e.inject(u,{computedCurrent:e.ref(1),computedPageSize:e.ref(10),disabled:e.ref(!1),pageItemStyle:e.ref({}),activePageItemStyle:e.ref({}),pages:e.ref(0),baseSize:e.ref(6),bufferSize:e.ref(2)})});
