"use strict";const e=require("vue"),o=require("../_shared/constants/index.js");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js"),require("../_shared/utils/time.js"),require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js");const t=require("../_shared/utils/control.js"),n=require("../Modal/hooks/useOnBeforeClose.js"),r=require("../Trigger/index.js"),i=require("../Button/index.js"),l={class:"yc-popconfirm-body"},a={class:"yc-popconfirm-icon"},s={class:"yc-popconfirm-content"},p={class:"yc-popconfirm-footer"},c=e.defineComponent({name:"Popconfirm",__name:"index",props:{content:{default:""},position:{default:"top"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},type:{default:"info"},okText:{default:"确定"},cancelText:{default:"取消"},okLoading:{type:Boolean,default:!1},okButtonProps:{default:()=>({})},cancelButtonProps:{default:()=>({})},contentClass:{default:""},contentStyle:{default:()=>({})},arrowClass:{default:""},arrowStyle:{default:()=>({})},popupContainer:{default:void 0},onBeforeOk:{type:Function,default:()=>!0},onBeforeCancel:{type:Function,default:()=>!0},triggerProps:{default:()=>({})}},emits:["update:popupVisible","popup-visible-change","ok","cancel"],setup(c,{expose:u,emit:d}){const f=c,m=d,{popupVisible:y,defaultPopupVisible:g,type:v}=e.toRefs(f),{onBeforeOk:k,onBeforeCancel:B}=f,x=e.ref(!1),C=e.ref(),h=t(y,g.value,(e=>{m("update:popupVisible",e),m("popup-visible-change",e)})),w=()=>{var e;n("confirmBtn",x,k,B)&&(m("ok"),null==(e=C.value)||e.hide())},V=()=>{var e;n("cancelBtn",x,k,B)&&(m("cancel"),null==(e=C.value)||e.hide())};return u({show(){h.value=!0},hide(){h.value=!1}}),(t,n)=>(e.openBlock(),e.createBlock(e.unref(r),e.mergeProps({"popup-visible":e.unref(h),"onUpdate:popupVisible":n[0]||(n[0]=o=>e.isRef(h)?h.value=o:null),position:t.position,"popup-container":t.popupContainer,"arrow-class":[" yc-popconfirm-popup-arrow",t.arrowClass],"arrow-style":t.arrowStyle,"content-class":["yc-popconfirm-popup-content",t.contentClass],"content-style":t.contentStyle,"popup-offset":10,class:["yc-popconfirm",`yc-popconfirm-${e.unref(v)}`,t.$attrs.class],style:t.$attrs.style,trigger:"click","animation-name":"zoom-in-fade-out","need-transform-origin":"","show-arrow":"",ref_key:"triggerRef",ref:C},t.triggerProps),{content:e.withCtx((()=>[e.createElementVNode("div",l,[e.createElementVNode("div",a,[e.renderSlot(t.$slots,"icon",{},(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(o.TYPE_ICON_MAP)[e.unref(v)])))]))]),e.createElementVNode("div",s,[e.renderSlot(t.$slots,"content",{},(()=>[e.createTextVNode(e.toDisplayString(t.content),1)]))])]),e.createElementVNode("div",p,[e.createVNode(e.unref(i.default),e.mergeProps({size:"mini"},t.cancelButtonProps,{onClick:V}),{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.cancelText),1)])),_:1},16),e.createVNode(e.unref(i.default),e.mergeProps({size:"mini",type:"primary",loading:t.okLoading||x.value},t.okButtonProps,{onClick:w}),{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.okText),1)])),_:1},16,["loading"])])])),default:e.withCtx((()=>[e.renderSlot(t.$slots,"default")])),_:3},16,["popup-visible","position","popup-container","arrow-class","arrow-style","content-class","content-style","class","style"]))}});module.exports=c;
