"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const r=require("../_shared/utils/fn.js"),l=require("../_shared/utils/is.js");require("../_shared/utils/time.js"),require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js");const o=require("../_shared/icons/IconCheck.vue.js"),t=require("../_shared/icons/IconExclamation.vue2.js"),s=require("../_shared/constants/index.js"),c=["aria-valuenow"],a=["viewBox"],n={key:0},u=["id"],i=["offset","stop-color"],m=["cx","cy","r","stroke-width"],d=["cx","cy","r","stroke-width"],p={key:2,class:e.normalizeClass("yc-progress-circle-text")},k=e.defineComponent({__name:"ProgressCircle",props:{type:{},percent:{},status:{},size:{},text:{},showText:{type:Boolean},width:{},strokeWidth:{},pathStrokeWidth:{},color:{},trackColor:{}},setup(k){const v=k,{size:y,width:f,color:h,strokeWidth:x,pathStrokeWidth:B}=e.toRefs(v);let _=0;const g=e.computed((()=>l.isObject(h.value))),C=e.computed((()=>x.value??("mini"===y.value?f.value/2:{mini:4,small:3,medium:4,large:4}[y.value]))),E=e.computed((()=>B.value?B.value:"mini"===y.value?C.value:Math.max(2,C.value-2))),w=e.computed((()=>(f.value-C.value)/2)),j=e.computed((()=>2*Math.PI*w.value)),z=e.computed((()=>f.value/2)),O=e.computed((()=>(_+=1,`yc-progress-circle-linear-gradient-${_}`)));return(k,v)=>(e.openBlock(),e.createElementBlock("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":k.percent,class:e.normalizeClass("yc-progress-circle-wrapper"),style:e.normalizeStyle({width:e.unref(r.valueToPx)(e.unref(f)),height:e.unref(r.valueToPx)(e.unref(f))})},["circle"===k.type&&"mini"===e.unref(y)&&"success"===k.status?(e.openBlock(),e.createBlock(e.unref(o),{key:0,style:e.normalizeStyle({fontSize:e.unref(f)-2,color:e.unref(h)??e.unref(s.TYPE_ICON_COLOR_MAP).success})},null,8,["style"])):(e.openBlock(),e.createElementBlock("svg",{key:1,viewBox:`0 0 ${e.unref(f)} ${e.unref(f)}`,class:e.normalizeClass("yc-progress-circle-svg")},[e.unref(l.isObject)(e.unref(h))?(e.openBlock(),e.createElementBlock("defs",n,[e.createElementVNode("linearGradient",{id:O.value,x1:"0",y1:"1",x2:"0",y2:"0"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.keys(e.unref(h)),(r=>(e.openBlock(),e.createElementBlock("stop",{key:r,offset:r,"stop-color":e.unref(h)[r]},null,8,i)))),128))],8,u)])):e.createCommentVNode("",!0),e.createElementVNode("circle",{class:e.normalizeClass("yc-progress-circle-bg"),fill:"none",cx:z.value,cy:z.value,r:w.value,"stroke-width":E.value,style:e.normalizeStyle({stroke:k.trackColor})},null,12,m),e.createElementVNode("circle",{class:e.normalizeClass("yc-progress-circle-bar"),fill:"none",cx:z.value,cy:z.value,r:w.value,"stroke-width":C.value,style:e.normalizeStyle({stroke:g.value?`url(#${O.value})`:e.unref(h),strokeDasharray:j.value,strokeDashoffset:(k.percent>=1?0:1-k.percent)*j.value})},null,12,d)],8,a)),k.showText&&"mini"!==e.unref(y)?(e.openBlock(),e.createElementBlock("div",p,[e.renderSlot(k.$slots,"text",{percent:k.percent},(()=>["danger"===k.status?(e.openBlock(),e.createBlock(e.unref(t),{key:0,color:e.unref(s.TYPE_ICON_COLOR_MAP).error},null,8,["color"])):"success"===k.status?(e.openBlock(),e.createBlock(e.unref(o),{key:1,color:e.unref(s.TYPE_ICON_COLOR_MAP).success},null,8,["color"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createTextVNode(e.toDisplayString(k.text),1)],64))]),!0)])):e.createCommentVNode("",!0)],12,c))}});module.exports=k;
