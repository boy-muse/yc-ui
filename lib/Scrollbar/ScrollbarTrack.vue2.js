"use strict";const e=require("vue"),l=require("../node_modules/@vueuse/core/index.js");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const a=require("../_shared/utils/fn.js");require("../_shared/utils/time.js"),require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js");const r=require("./hooks/useContext.js"),u=e.defineComponent({__name:"ScrollbarTrack",props:{direction:{default:"vertical"}},emits:["drag","resize"],setup(u,{emit:t}){const s=u,o=t,{direction:i}=e.toRefs(s),{scrollRef:c,thumbHeight:n,thumbWidth:v,movableLeft:d,movableTop:f,curTop:m,curLeft:g,isDragging:h}=r().inject(),b=e.computed((()=>"vertical"==i.value)),y=e.computed((()=>b.value?{height:a.valueToPx(n.value),transform:`translateY(${a.valueToPx(m.value)})`}:{width:a.valueToPx(v.value),transform:`translateX(${a.valueToPx(g.value)})`})),p=e.ref();l.useResizeObserver(p,(()=>{const{width:e,height:l}=p.value.getBoundingClientRect();o("resize",b.value?e:l)}));const _=e.ref(),{x:k,y:j,isDragging:q}=l.useDraggable(_,{onMove(){const{left:e,top:l}=c.value.getBoundingClientRect(),a=l,r=f.value+a,u=e,t=d.value+u;b.value?(j.value=j.value<=a?a:j.value,j.value=j.value>=r?r:j.value,o("drag",!0,j.value-a)):(k.value=k.value<=u?u:k.value,k.value=k.value>=t?t:k.value,o("drag",!1,k.value-u))}});e.watchEffect((()=>{h.value=q.value}));const x=e=>{const{offsetX:l,offsetY:a}=e;if(b.value){const e=m.value<a?f.value/9:-f.value/9;let l=m.value+e;l=l<=0?0:l,l=l>f.value?f.value:l,o("drag",!0,l)}else{const e=g.value<l?d.value/9:-d.value/9;let a=g.value+e;a=a<=0?0:a,a=a>d.value?d.value:a,o("drag",!1,a)}};return(l,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["yc-scrollbar-track",`yc-scrollbar-track-direction-${e.unref(i)}`]),ref_key:"trackRef",ref:p,onClick:e.withModifiers(x,["self"])},[e.createElementVNode("div",{class:e.normalizeClass(["yc-scrollbar-thumb",`yc-scrollbar-thumb-direction-${e.unref(i)}`]),style:e.normalizeStyle(y.value),ref_key:"dragRef",ref:_},[e.createElementVNode("div",{class:e.normalizeClass(["yc-scrollbar-thumb-bar",{"yc-scrollbar-thumb-bar-dragging":e.unref(q),"yc-scrollbar-thumb-bar-hover":!e.unref(q)&&e.unref(h)}])},null,2)],6)],2))}});module.exports=u;
