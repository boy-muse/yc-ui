"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js");const t=require("../_shared/utils/dom.js"),l=require("../_shared/utils/is.js");require("../_shared/utils/time.js"),require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js");const o=require("./hooks/useContext.js"),n=require("../Checkbox/index.js"),s={key:0,class:"yc-select-option-icon"},r={key:3,class:"yc-select-option-suffix"},i=e.defineComponent({name:"Option",__name:"Option",props:{label:{default:""},value:{type:[String,Number,Boolean,Object,Array],default:""},disabled:{type:Boolean,default:!1},tagProps:{},id:{},isFallbackOption:{type:Boolean,default:!1}},setup(i){const a=i,{label:u,disabled:c}=e.toRefs(a),{computedValue:d,multiple:p,limit:f,curIndex:v,options:m,blur:y,filterOption:k,getValue:x,emits:b,collectOption:B}=o().inject(),_=e.ref(),h=e.computed((()=>`${a.value}`?a.value:t.getDomText(_))),j=e.computed((()=>a.label?a.label:t.getDomText(_))),q=e.computed((()=>{if(!p.value)return!1;return-1!=d.value.findIndex((e=>x(e)===x(h.value)))})),g=()=>{c.value||l.isUndefined(d.value)||(d.value=h.value,b("select",h.value),y())},C=e=>{const t=d.value,{value:l}=h;if(e){if(f.value>0&&t.length==f.value)return b("exceedLimit",l);b("select",h.value),d.value=[...t,l]}else d.value=t.filter((e=>e!=l))};return B(a,j),(t,l)=>{var o;return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["yc-select-option",{"yc-select-option-active":(null==(o=e.unref(m)[e.unref(v)])?void 0:o.value)==h.value,"yc-select-option-disabled":e.unref(c)}])},[t.$slots.icon?(e.openBlock(),e.createElementBlock("div",s,[e.renderSlot(t.$slots,"icon",{},void 0,!0)])):e.createCommentVNode("",!0),e.unref(p)?(e.openBlock(),e.createBlock(e.unref(n.default),{key:1,"model-value":q.value,disabled:e.unref(c),"onUpdate:modelValue":C,class:"yc-select-option-content"},{default:e.withCtx((()=>[e.createElementVNode("span",{ref_key:"contentRef",ref:_},[e.renderSlot(t.$slots,"default",{},(()=>[e.createTextVNode(e.toDisplayString(e.unref(u)),1)]),!0)],512)])),_:3},8,["model-value","disabled"])):(e.openBlock(),e.createElementBlock("div",{key:2,class:"yc-select-option-content text-ellipsis",ref_key:"contentRef",ref:_,onClick:g},[e.renderSlot(t.$slots,"default",{},(()=>[e.createTextVNode(e.toDisplayString(e.unref(u)),1)]),!0)],512)),t.$slots.suffix?(e.openBlock(),e.createElementBlock("div",r,[e.renderSlot(t.$slots,"suffix",{},void 0,!0)])):e.createCommentVNode("",!0)],2)),[[e.vShow,e.unref(k)({...t.$props,label:j.value})]])}}});module.exports=i;
