"use strict";const e=require("vue");require("../../node_modules/tinycolor2/esm/tinycolor.js"),require("../../_shared/utils/dom.js");const a=require("../../_shared/utils/is.js");require("../../_shared/utils/time.js"),require("../../Empty/index.js"),require("../../_shared/icons/_Icon.vue.js");const u=require("../../_shared/utils/control.js"),l="slider-context";module.exports=()=>({inject:()=>e.inject(l,{startValue:e.ref(0),endValue:e.ref(0),tempEndValue:e.ref(0),tempStartValue:e.ref(0),range:e.ref(!1),min:e.ref(0),max:e.ref(0),step:e.ref(0),direction:e.ref("horizontal"),disabled:e.ref(!1),showTooltip:e.ref(!0),trackRef:e.ref(),normalizeValue:e=>e,denormalizeValue:e=>e}),provide:(t,r,o)=>{const{modelValue:n,defaultValue:i,step:s,min:d,max:v,direction:m,disabled:c,range:f,showTooltip:p,marks:V}=e.toRefs(t),{formatTooltip:h}=t,j=u(n,f.value&&!a.isArray(i.value)?[0,0]:i.value,(e=>{r("update:modelValue",e),r("change",e)})),x=e.computed({get:()=>f.value?j.value[0]:j.value,set(e){f.value?j.value[0]=e:j.value=e,g.value=e}}),g=e.ref(x.value),q=e.computed({get:()=>f.value?j.value[1]:j.value,set(e){f.value?j.value[1]=e:j.value=e,_.value=e}}),_=e.ref(q.value),b=e.computed((()=>{const e=k(s.value),a=[];for(let u=1;u<Math.floor(v.value/s.value);u++){const l=+(u*s.value).toFixed(e);a.push({label:l,value:l})}return a})),z=e.computed((()=>Object.entries(V.value).map((([e,a])=>({value:+e,label:a})))));function k(e){const a=e.toString(),u=a.indexOf(".");return-1===u?0:a.length-u-1}function T(e){const a=(v.value-d.value)/s.value,u=(e-d.value)/s.value/a*100;return Math.round(u)}return e.provide(l,{startValue:x,endValue:q,tempStartValue:g,tempEndValue:_,range:f,min:d,max:v,step:s,showTooltip:p,disabled:c,direction:m,trackRef:o,formatTooltip:h,normalizeValue:T,denormalizeValue:function(e){const a=e/100*((v.value-d.value)/s.value),u=d.value+a*s.value,l=k(s.value);return+(Math.round(u/s.value)*s.value).toFixed(l)}}),{range:f,direction:m,startValue:x,endValue:q,tempStartValue:g,tempEndValue:_,computedValue:j,ticks:b,marks:z,min:d,max:v,normalizeValue:T}}});
