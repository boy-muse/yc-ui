"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const t=require("../_shared/utils/fn.js"),l=require("../_shared/utils/is.js");require("../_shared/utils/time.js"),require("../Empty/index.js");const i=require("../_shared/utils/control.js");require("../_shared/icons/_Icon.vue.js");const a=require("../_shared/icons/IconDragDot.vue.js"),r=require("../node_modules/@vueuse/core/index.js"),o={class:"yc-split-trigger-icon-wrapper"},s={class:"yc-split-trigger-icon"},u={class:"yc-split-pane yc-split-pane-second"},n=e.defineComponent({name:"Split",__name:"index",props:{component:{default:"div"},direction:{default:"horizontal"},size:{default:void 0},defaultSize:{default:.5},min:{default:0},max:{default:1},disabled:{type:Boolean,default:!1}},emits:["update:size","moving-start","moving","moving-end"],setup(n,{emit:d}){const v=n,c=d,{size:m,defaultSize:p,direction:f,min:g,max:h}=e.toRefs(v),y=i(m,p.value,(e=>{c("update:size",e)})),z=e.computed((()=>100*(l.isNumber(y.value)?y.value:E(y.value))+"%")),_=e.ref(),x=e.ref(),q=e.computed((()=>{var e,t;return("horizontal"==f.value?null==(e=x.value)?void 0:e.offsetWidth:null==(t=x.value)?void 0:t.offsetHeight)??6})),N=e.computed((()=>{var e;const t=null==(e=_.value)?void 0:e.getBoundingClientRect();return("horizontal"==f.value?null==t?void 0:t.width:null==t?void 0:t.height)??0})),{isDragging:j,x:S,y:b}=r.useDraggable(x,{onMove(){c("moving");const{left:e,top:t}=_.value.getBoundingClientRect(),i="horizontal"==f.value?e:t,a=i+C(g.value),r=i+C(h.value)-q.value;let o="";"horizontal"==f.value?(S.value=S.value<a?a:S.value,S.value=S.value>r?r:S.value,o=S.value-e+"px"):(b.value=b.value<a?a:b.value,b.value=b.value>r?r:b.value,o=b.value-t+"px"),y.value=l.isNumber(y.value)?E(o):o},onStart(){c("moving-start")},onEnd(){c("moving-end")}}),C=e=>l.isNumber(e)?e*N.value:Number.parseFloat(e),E=e=>Number.parseFloat(e)/N.value;return e.watch((()=>y.value),(async e=>{if(j.value)return;await t.sleep(0);const{left:l,top:i}=_.value.getBoundingClientRect();S.value=l+C(e),b.value=i+C(e)}),{immediate:!0}),(l,i)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.component),{class:e.normalizeClass(["yc-split",`yc-split-direction-${e.unref(f)}`]),ref_key:"splitRef",ref:_},{default:e.withCtx((()=>[e.createElementVNode("div",{class:"yc-split-pane yc-split-pane-first",style:e.normalizeStyle({flex:`0 0 calc(${z.value} - ${e.unref(t.valueToPx)(q.value/2)}`})},[e.renderSlot(l.$slots,"first",{},void 0,!0)],4),e.createElementVNode("div",{class:"yc-split-trigger",ref_key:"triggerRef",ref:x},[e.renderSlot(l.$slots,"resize-trigger",{},(()=>[e.createElementVNode("div",o,[e.createElementVNode("div",s,[e.renderSlot(l.$slots,"resize-trigger-icon",{},(()=>[e.createVNode(e.unref(a),{rotate:"horizontal"==e.unref(f)?90:0,size:12},null,8,["rotate"])]),!0)])])]),!0)],512),e.createElementVNode("div",u,[e.renderSlot(l.$slots,"second",{},void 0,!0)])])),_:3},8,["class"]))}});module.exports=n;
