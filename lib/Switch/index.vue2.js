"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const l=require("../_shared/utils/is.js");require("../_shared/utils/time.js");const c=require("../_shared/utils/global-config.js"),a=require("../_shared/utils/control.js"),t=require("../Spin/index.js"),u=["aria-checked"],o={class:"yc-switch-handle"},n={class:"yc-switch-handle-icon"},s={key:0,class:"yc-switch-placeholder"},r={key:1,class:"yc-switch-text"},d=e.defineComponent({name:"Switch",__name:"index",props:{modelValue:{type:[String,Number,Boolean],default:void 0},defaultChecked:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},type:{default:"circle"},size:{default:void 0},checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},checkedColor:{default:"rgba(22, 93, 255)"},uncheckedColor:{default:"rgb(201, 205, 212)"},checkedText:{default:""},uncheckedText:{default:""},beforeChange:{type:Function,default:()=>!0}},emits:["update:modelValue","change","focus","blur"],setup(d,{emit:i}){e.useCssVars((e=>({"455e587d":$.value})));const h=d,k=i,{modelValue:v,defaultChecked:f,checkedValue:m,uncheckedValue:p,disabled:y,type:g,checkedText:B,uncheckedText:b,checkedColor:w,uncheckedColor:C,loading:V}=e.toRefs(h),{beforeChange:S}=h,x=e.useSlots(),{size:N}=c.getGlobalConfig(h),q=a(v,f.value,(e=>{k("update:modelValue",e)})),_=e.computed((()=>q.value==m.value)),j=e.computed((()=>{const e=_.value&&(B.value||x.checked),l=!_.value&&(b.value||x.unchecked);return"line"!=g.value&&"small"!=N.value&&(e||l)})),$=e.computed((()=>_.value?w.value:C.value)),T=e.ref(!1),z=e.computed((()=>T.value||V.value)),E=async e=>{if(z.value||y.value)return;const c=_.value?p.value:m.value,a=await(async e=>{let c=!0;T.value=!0;const a=S(e);if(l.isBoolean(a))c=a;else if(a instanceof Promise)try{const e=await a;l.isBoolean(e)&&(c=e)}catch{c=!1}return T.value=!1,c})(c);a&&(q.value=c,k("change",c,e))};return(l,c)=>(e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(["yc-switch",`yc-switch-shape-${e.unref(g)}`,`yc-switch-size-${e.unref(N)}`,_.value?"yc-switch-checked":"yc-switch-unchecked",{"yc-switch-loading":z.value,"yc-switch-disabled":e.unref(y)}]),"aria-checked":_.value,role:"switch",onFocus:c[0]||(c[0]=e=>l.$emit("focus",e)),onBlur:c[1]||(c[1]=e=>l.$emit("blur",e)),onClick:E},[e.createElementVNode("span",o,[e.createElementVNode("span",n,[z.value?(e.openBlock(),e.createBlock(e.unref(t),{key:0,"is-size-inherit":""})):e.renderSlot(l.$slots,_.value?"checked-icon":"unchecked-icon",{key:1},void 0,!0)])]),j.value?(e.openBlock(),e.createElementBlock("span",s,[e.renderSlot(l.$slots,_.value?"checked":"unchecked",{},(()=>[e.createTextVNode(e.toDisplayString(_.value?e.unref(B):e.unref(b)),1)]),!0)])):e.createCommentVNode("",!0),j.value?(e.openBlock(),e.createElementBlock("span",r,[e.renderSlot(l.$slots,_.value?"checked":"unchecked",{},(()=>[e.createTextVNode(e.toDisplayString(_.value?e.unref(B):e.unref(b)),1)]),!0)])):e.createCommentVNode("",!0)],42,u))}});module.exports=d;
