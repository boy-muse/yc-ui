"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const t=require("../_shared/utils/fn.js");require("../_shared/utils/time.js");const a=require("../_shared/utils/vue-utils.js");require("../Empty/index.js"),require("../_shared/icons/_Icon.vue.js");const n=require("../_shared/icons/IconArrowRight.vue.js"),o=require("../_shared/icons/IconPlus.vue.js"),l=require("./hooks/useContext.js"),r=require("./hooks/useTabsScroll.js"),i=require("./TabPane.vue.js");require("./TabPane.vue2.js");const s=require("./TabsTab.vue.js"),u=require("./TabsNavInk.vue.js"),c=require("./TabButton.vue.js"),d={class:"yc-tabs-nav"},f={key:3,class:"yc-tabs-nav-extra"},y=e.defineComponent({name:"Tabs",__name:"Tabs",props:{activeKey:{default:void 0},defaultActiveKey:{default:""},position:{default:void 0},size:{default:void 0},type:{default:"line"},direction:{default:"horizontal"},editable:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!1},destoryOnHide:{type:Boolean,default:!1},justify:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},headerPadding:{type:Boolean,default:!0},autoSwitch:{type:Boolean,default:!1},hideContent:{type:Boolean,default:!1},trigger:{default:"click"}},emits:["update:activeKey","change","tab-click","add","delete"],setup(y,{emit:p}){const m=y,v=p,h=e.ref(),{computedActiveKey:k,size:b,direction:B,autoSwitch:z,position:x}=l().provide(m,v,h),C=e.useSlots(),j=e.computed((()=>{var e;return a.findComponentsFromVnodes((null==(e=C.default)?void 0:e.call(C))||[],i.name)})),q=e.computed((()=>j.value.map((e=>({title:"",path:"",disabled:!1,...e.props||{},slots:e.children}))))),_=e.computed((()=>m.showAddButton&&["line","card","card-gutter"].includes(m.type))),g=e.computed((()=>{const e=q.value.findIndex((e=>e.path==k.value));return e<0?0:e})),{scrollDis:N,isScrollable:V,preDisabled:T,nextDisabled:$,navHeight:w,handleScroll:E}=r({listRef:h,panes:q,direction:B}),S=async()=>{v("add"),z.value&&(await e.nextTick(),k.value=q.value[q.value.length-1].path)};return(a,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["yc-tabs",`yc-tabs-${e.unref(B)}`,`yc-tabs-type-${a.type}`,`yc-tabs-size-${e.unref(b)}`,{"yc-tabs-animation":a.animation,"yc-tabs-justify":"horizontal"==e.unref(B)&&a.justify,"yc-tabs-no-padding":a.headerPadding&&["line","text"].includes(a.type)&&"horizontal"===m.direction,[`yc-tabs-${e.unref(x)}`]:e.unref(x)}])},[e.createElementVNode("div",d,[e.unref(V)?(e.openBlock(),e.createBlock(c,{key:0,disabled:e.unref(T),direction:"horizontal"==e.unref(B)?"left":"up",onClick:l[0]||(l[0]=t=>e.unref(E)("pre"))},{default:e.withCtx((()=>[e.createVNode(e.unref(n),{rotate:"horizontal"==e.unref(B)?180:-90,size:14},null,8,["rotate"])])),_:1},8,["disabled","direction"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["yc-tabs-nav-tab",{"yc-tabs-nav-tab-scroll":e.unref(V)}])},[e.createElementVNode("div",{class:"yc-tabs-nav-tab-list",style:e.normalizeStyle({transform:`translate${"horizontal"==e.unref(B)?"X":"Y"}(${e.unref(t.valueToPx)(e.unref(N))})`}),ref_key:"listRef",ref:h},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.value,((t,a)=>(e.openBlock(),e.createBlock(s,{key:a,index:a,node:t},null,8,["index","node"])))),128)),"line"==a.type?(e.openBlock(),e.createBlock(u,{key:0,"cur-index":g.value,panes:q.value},null,8,["cur-index","panes"])):e.createCommentVNode("",!0)],4)],2),e.unref(V)?(e.openBlock(),e.createBlock(c,{key:1,disabled:e.unref($),direction:"horizontal"==e.unref(B)?"right":"down",onClick:l[1]||(l[1]=t=>e.unref(E)("next"))},{default:e.withCtx((()=>[e.createVNode(e.unref(n),{rotate:"horizontal"==e.unref(B)?0:90,size:14},null,8,["rotate"])])),_:1},8,["disabled","direction"])):e.createCommentVNode("",!0),_.value?(e.openBlock(),e.createBlock(c,{key:2,type:"add",size:"12",onClick:S},{default:e.withCtx((()=>[e.createVNode(e.unref(o),{size:12})])),_:1})):e.createCommentVNode("",!0),a.$slots.extra?(e.openBlock(),e.createElementBlock("div",f,[e.renderSlot(a.$slots,"extra",{},void 0,!0)])):e.createCommentVNode("",!0)]),a.hideContent?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:"yc-tabs-content",style:e.normalizeStyle({height:"vertical"==e.unref(B)?`${e.unref(t.valueToPx)(e.unref(w))}`:""})},[e.createElementVNode("div",{class:"yc-tabs-content-list",style:e.normalizeStyle({transform:`translate${"horizontal"==e.unref(B)?"X":"Y"}(${100*-g.value}%)`})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(j.value,((t,a)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t),{key:a})))),128))],4)],4))],2))}});module.exports=y;
