"use strict";const e=require("vue");require("../node_modules/tinycolor2/esm/tinycolor.js"),require("../_shared/utils/dom.js");const r=require("../_shared/utils/is.js"),l=require("../_shared/utils/time.js"),o=require("../_shared/utils/global-config.js"),t=require("./hooks/useContext.js"),i=require("../_shared/components/IconButton.vue.js");require("../_shared/components/ExpandTransition.vue.js"),require("../_shared/icons/_Icon.vue.js");const a=require("../_shared/icons/IconTime.vue.js"),n=require("../Trigger/index.js"),s=require("./TimePickerPanel.vue.js"),u={key:0,class:"yc-picker-prefix"},c=["value","placeholder","disabled","readonly"],p=["value","placeholder","disabled","readonly"],d={class:"yc-picker-suffix"},f={class:"yc-picker-suffix-icon"},m=e.defineComponent({name:"TimePicker",inheritAttrs:!1,__name:"TimePicker",props:{type:{default:"time"},modelValue:{default:void 0},defaultValue:{default:e=>"time-range"==e.type?[]:""},disabled:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},format:{default:"HH:mm:ss"},placeholder:{default:e=>"time-range"==e.type?["开始时间","结束时间"]:"请选择时间"},size:{default:void 0},popupContainer:{default:void 0},step:{},disabledHours:{type:Function,default:()=>[]},disabledMinutes:{type:Function,default:()=>[]},disabledSeconds:{type:Function,default:()=>[]},hideDisabledOptions:{type:Boolean,default:!1},disableConfirm:{type:Boolean},position:{default:"bl"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},triggerProps:{default:()=>({})},unmountOnClose:{type:Boolean,default:!1}},emits:["update:modelValue","update:popupVisible","change","select","clear","popup-visible-change"],setup(m,{emit:y}){const v=m,k=y,{popupContainer:h,size:b}=o.getGlobalConfig(v),{type:g,computedValue:C,computedVisible:V,showClearBtn:x,readonly:B,disabled:_,curIndex:q,inputRefs:N,format:j}=t().provide(v,k),E=e.ref(),w=()=>{C.value="time-range"==g.value?[]:"",k("clear")},$=e=>{var l;q.value=e,V.value=!0,null==(l=E.value)||l.scroll(r.isArray(C.value)?C.value[e]:C.value)},z=()=>{if(V.value=!1,!r.isArray(C.value))return;const e=C.value[0],o=C.value[1];e&&o?l.isValidTimeRange(e,o,j.value)||(C.value=C.value.reverse()):C.value=[]};return(l,o)=>(e.openBlock(),e.createBlock(e.unref(n),e.mergeProps({"popup-visible":e.unref(V),position:l.position,"popup-container":e.unref(h),"popup-offset":4,"unmount-on-close":l.unmountOnClose,disabled:e.unref(_)||e.unref(B),"on-click-out-side":z,"auto-fit-popup-min-width":!1,"auto-fit-popup-width":!1,trigger:"click","animation-name":"slide-dynamic-origin","prevent-focus":""},l.triggerProps),{content:e.withCtx((()=>[e.createVNode(s,{ref_key:"panelRef",ref:E},e.createSlots({_:2},[l.$slots.extra?{name:"extra",fn:e.withCtx((()=>[e.renderSlot(l.$slots,"extra",{},void 0,!0)])),key:"0"}:void 0]),1536)])),default:e.withCtx((()=>[e.createElementVNode("div",{class:e.normalizeClass(["yc-picker",`yc-picker-size-${e.unref(b)}`,l.$attrs.class,{"yc-picker-disabled":e.unref(_),"yc-picker-error":l.error,"yc-picker-focus":e.unref(V),"yc-picker-has-prefix":l.$slots.prefix,"yc-picker-allow-clear":e.unref(x)}]),style:e.normalizeStyle({...l.$attrs.style||{}})},[l.$slots.prefix?(e.openBlock(),e.createElementBlock("div",u,[e.renderSlot(l.$slots,"prefix",{},void 0,!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["yc-picker-input",{"yc-picker-input-active":!e.unref(q)&&e.unref(V)}]),onClick:o[0]||(o[0]=e.withModifiers((e=>$(0)),["stop"]))},[e.createElementVNode("input",{value:e.unref(r.isArray)(e.unref(C))?e.unref(C)[0]:e.unref(C),placeholder:e.unref(r.isArray)(l.placeholder)?l.placeholder[0]:l.placeholder,disabled:e.unref(_),readonly:e.unref(B),ref:r=>e.unref(N)[0]=r,class:"yc-picker-start-time"},null,8,c)],2),"time-range"==e.unref(g)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[o[2]||(o[2]=e.createElementVNode("span",{class:"yc-picker-separator"}," - ",-1)),e.createElementVNode("div",{class:e.normalizeClass(["yc-picker-input",{"yc-picker-input-active":e.unref(q)&&e.unref(V)}]),onClick:o[1]||(o[1]=e.withModifiers((e=>$(1)),["stop"]))},[e.createElementVNode("input",{value:e.unref(r.isArray)(e.unref(C))?e.unref(C)[1]:e.unref(C),placeholder:e.unref(r.isArray)(l.placeholder)?l.placeholder[1]:l.placeholder,disabled:e.unref(_),readonly:e.unref(B),ref:r=>e.unref(N)[1]=r,class:"yc-picker-start-time"},null,8,p)],2)],64)):e.createCommentVNode("",!0),e.createElementVNode("div",d,[e.unref(x)?(e.openBlock(),e.createBlock(e.unref(i),{key:0,size:14,class:"yc-picker-clear-icon",onClick:w})):e.createCommentVNode("",!0),e.createElementVNode("span",f,[e.renderSlot(l.$slots,"suffix-icon",{},(()=>[e.createVNode(e.unref(a))]),!0)])])],6)])),_:3},16,["popup-visible","position","popup-container","unmount-on-close","disabled"]))}});module.exports=m;
