"use strict";const e=require("vue");require("../../node_modules/tinycolor2/esm/tinycolor.js"),require("../../_shared/utils/dom.js");const u=require("../../_shared/utils/is.js");require("../../_shared/utils/time.js"),require("../../Empty/index.js"),require("../../_shared/icons/_Icon.vue.js");const s=require("../../_shared/utils/control.js"),l="time-picker-context";module.exports=()=>({provide:(i,r)=>{const{modelValue:t,defaultValue:o,popupVisible:d,defaultPopupVisible:a,disabled:n,readonly:c,allowClear:p,format:m,type:f,disableConfirm:b,hideDisabledOptions:h,step:v}=e.toRefs(i),{disabledHours:V,disabledMinutes:C,disabledSeconds:y}=i,j=s(t,o.value,(e=>{r("update:modelValue",e)})),q=e.ref(0),_=e.ref([]),x=s(d,a.value,(e=>{r("update:popupVisible",e),r("popup-visible-change",e)})),H=e.computed((()=>{const e=!n.value&&!c.value&&p.value;return u.isArray(j.value)?j.value[0]&&j.value[1]&&e:j.value&&e})),g=e.computed((()=>{const e=m.value.toLowerCase().replace(/[^a-z]/g,""),u=[];return e.includes("h")&&u.push("hour"),e.includes("m")&&u.push("minute"),e.includes("s")&&u.push("second"),u.length>0?u:["hour","minute","second"]})),I=e.computed((()=>g.value.map((e=>{var u;const s=(null==(u=v.value)?void 0:u[e])||1,l=Math.ceil(("hour"===e?24:60)/s);return{unit:e,cells:Array.from({length:l},((e,u)=>{const l=u*s;return{label:`${l<=9?"0":""}${l}`,value:l}}))}})))),M=e.ref([]);return e.provide(l,{computedValue:j,computedVisible:x,timeColumn:g,timeColumnCells:I,curValue:_,format:m,type:f,curIndex:q,inputRefs:M,disableConfirm:b,hideDisabledOptions:h,disabledHours:V,disabledMinutes:C,disabledSeconds:y}),{computedValue:j,computedVisible:x,showClearBtn:H,curValue:_,readonly:c,disabled:n,type:f,curIndex:q,inputRefs:M,format:m}},inject:()=>e.inject(l,{type:e.ref("time"),format:e.ref("HH:mm:ss"),curValue:e.ref([]),computedValue:e.ref(""),computedVisible:e.ref(!1),curIndex:e.ref(0),timeColumn:e.ref([]),timeColumnCells:e.ref([]),inputRefs:e.ref([]),disableConfirm:e.ref(!1),hideDisabledOptions:e.ref(!1),disabledHours:()=>[],disabledMinutes:()=>[],disabledSeconds:()=>[]})});
