"use strict";require("../../../node_modules/vue/dist/vue.runtime.esm-bundler.js");const e=require("../Scrollbar/Scrollbar.vue.js"),t=require("./Doption.vue.js"),o=require("../_hooks/useTriggerLevel.js"),l=require("../_hooks/useControlValue.js"),u=require("../../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js"),r=require("../../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js"),a=require("../../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js"),i=require("../../../node_modules/@vue/shared/dist/shared.esm-bundler.js"),s=["data-group-id"],n={class:"yc-dropdown-list"},d={key:0,class:"yc-dropdown-footer"},v=u.defineComponent({name:"Dsubmenu",__name:"Dsubmenu",props:{disabled:{type:Boolean,default:!1},trigger:{default:"hover"},position:{default:"rt"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},mouseEnterDelay:{default:150},mouseLeaveDelay:{default:150}},emits:["update:popupVisible","popup-visible-change","show","hide"],setup(v,{emit:c}){const p=v,m=c,{position:f,defaultPopupVisible:h,popupVisible:b,trigger:y,mouseEnterDelay:k,mouseLeaveDelay:g}=r.toRefs(p),x=l(b,h.value,(e=>m("update:popupVisible",e))),V=r.ref({left:0,top:0,width:0}),_=u.computed((()=>["rt","lt"].includes(f.value)?f.value:"rt")),w=u.computed((()=>["click","hover"].includes(y.value)?y.value:"hover")),B=r.ref(),j=r.ref(),C=()=>{var e;const t=null==(e=B.value)?void 0:e.getRef();if(!t)return;const{left:o,top:l,right:u,width:r}=t.getBoundingClientRect();"rt"==_.value?V.value={left:`${u+4}px`,top:l-5+"px",minWidth:`${r}px`}:V.value={left:o-r-4+"px",top:l-5+"px",minWidth:`${r}px`}},{isSameGroup:T,groupId:q}=o((()=>{"hover"==w.value&&(x.value=!1)})),D=u.inject("hide"),N=u.inject("timeout",r.ref()),S=async()=>{N.value&&clearTimeout(N.value),"hover"!=w.value||x.value||(N.value=setTimeout((async()=>{x.value=!0,await u.nextTick(),C()}),k.value))},$=e=>{N.value&&clearTimeout(N.value),"hover"==w.value&&x.value&&(N.value=setTimeout((()=>{T(e.relatedTarget)?x.value=!1:D()}),g.value))},E=async()=>{"click"==w.value&&(x.value=!x.value,await u.nextTick(),C())};return(o,l)=>{const v=u.resolveComponent("yc-icon");return u.openBlock(),u.createElementBlock(u.Fragment,null,[u.createVNode(t,{disabled:o.disabled,"is-submenu":"",value:"",ref_key:"doptionRef",ref:B,onClick:E,onMouseenter:S,onMouseleave:l[0]||(l[0]=e=>$(e))},{suffix:u.withCtx((()=>[u.createVNode(v,{name:"arrow-right"})])),default:u.withCtx((()=>[u.renderSlot(o.$slots,"default",{},void 0,!0)])),_:3},8,["disabled"]),(u.openBlock(),u.createBlock(u.Teleport,{to:"body"},[u.createVNode(a.Transition,{name:"fade"},{default:u.withCtx((()=>[r.unref(x)&&!o.disabled?(u.openBlock(),u.createElementBlock("div",{key:0,class:"yc-dropdown-submenu","data-group-id":r.unref(q),style:i.normalizeStyle(V.value),ref_key:"contentRef",ref:j,onMouseenter:S,onMouseleave:l[1]||(l[1]=e=>$(e))},[u.createVNode(e,{style:{"max-height":"200px"}},{default:u.withCtx((()=>[u.createElementVNode("div",n,[u.renderSlot(o.$slots,"content",{},void 0,!0)])])),_:3}),o.$slots.footer?(u.openBlock(),u.createElementBlock("div",d,[u.renderSlot(o.$slots,"footer",{},void 0,!0)])):u.createCommentVNode("",!0)],44,s)):u.createCommentVNode("",!0)])),_:3})]))],64)}}});module.exports=v;
