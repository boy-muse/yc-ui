"use strict";require("../../../node_modules/vue/dist/vue.runtime.esm-bundler.js");const e=require("./constants.js"),l=require("../_constants/index.js"),t=require("../_utils/is.js"),o=require("../_hooks/useControlValue.js"),n=require("../../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js"),r=require("../../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js"),u=require("../../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js"),a=require("../../../node_modules/@vue/shared/dist/shared.esm-bundler.js"),s={key:0,class:"yc-input-prepend"},d={key:0,class:"yc-input-prefix"},i=["type","disabled","readonly","maxlength","placeholder"],c={key:3,class:"yc-input-suffix"},p={key:0,class:"yc-input-word-limit"},m={key:1,class:"yc-input-append"},f=r.defineComponent({name:"Input",__name:"Input",props:{modelValue:{default:void 0},defaultValue:{default:""},size:{default:"medium"},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},placeholder:{default:""},maxLength:{default:void 0},showWordLimit:{type:Boolean,default:!1},inputAttrs:{default:()=>({})},type:{default:"text"},mode:{default:"input"},showInput:{type:Boolean,default:!1},inputPlaceholder:{default:""},labelValue:{default:""}},emits:["update:modelValue","input","change","press-enter","clear","focus","blur"],setup(f,{expose:y,emit:v}){const h=f,k=v,{size:B,showWordLimit:b,maxLength:V,allowClear:x,modelValue:g,defaultValue:C,disabled:S,readonly:w}=u.toRefs(h),$=o(g,C.value,(e=>k("update:modelValue",e))),_=r.computed((()=>t.isNumber(V.value)&&b.value)),E=r.computed((()=>x.value&&!S.value&&!w.value&&$.value.length)),N=u.ref(),j=(e,l)=>{if(["input","change"].includes(e)){const t=l.target,{value:o}=t;if(k(e,o,l),$.value==o)return;t.value=$.value}else $.value="",k("clear",l)};return y({focus(){var e;null==(e=N.value)||e.focus()},blur(){var e;null==(e=N.value)||e.blur()},getValue:()=>$.value}),(t,o)=>{const f=r.resolveComponent("yc-icon-button");return r.openBlock(),r.createElementBlock("div",{class:a.normalizeClass(["yc-input-outer",u.unref(S)?"yc-input-disabled":"yc-input-hoverable",t.error?"yc-input-error":"",u.unref(e.SIZE_CLASS)[u.unref(B)],t.$slots.prepend?"yc-input-has-prepend":"",t.$slots.append?"yc-input-has-append":""])},[t.$slots.prepend?(r.openBlock(),r.createElementBlock("div",s,[r.renderSlot(t.$slots,"prepend",{},void 0,!0)])):r.createCommentVNode("",!0),r.createElementVNode("div",{class:"yc-input-wrapper",style:a.normalizeStyle({height:`${u.unref(l.SIZE_MAP)[u.unref(B)]}px`})},[t.$slots.prefix?(r.openBlock(),r.createElementBlock("div",d,[r.renderSlot(t.$slots,"prefix",{},void 0,!0)])):r.createCommentVNode("",!0),r.withDirectives(r.createElementVNode("input",r.mergeProps({"onUpdate:modelValue":o[0]||(o[0]=e=>u.isRef($)?$.value=e:null),type:t.type,disabled:u.unref(S),readonly:u.unref(w),maxlength:u.unref(V),placeholder:"select"==t.mode?t.inputPlaceholder:t.placeholder},t.inputAttrs,{class:"yc-input",ref_key:"inputRef",ref:N,onInput:o[1]||(o[1]=e=>j("input",e)),onChange:o[2]||(o[2]=e=>j("change",e)),onFocus:o[3]||(o[3]=e=>k("focus",e)),onBlur:o[4]||(o[4]=e=>k("blur",e)),onKeydown:o[5]||(o[5]=n.withKeys((e=>k("press-enter",e)),["enter"]))}),null,16,i),[[n.vShow,"input"==t.mode||"select"==t.mode&&t.showInput],[n.vModelDynamic,u.unref($)]]),"select"==t.mode?r.withDirectives((r.openBlock(),r.createElementBlock("div",{key:1,style:a.normalizeStyle({color:t.labelValue?"inherit":"rgb(134, 144, 156)"}),class:a.normalizeClass({"yc-input":!0,"text-ellipsis":!0})},a.toDisplayString(t.labelValue||t.placeholder),5)),[[n.vShow,!t.showInput]]):r.createCommentVNode("",!0),E.value?(r.openBlock(),r.createBlock(f,{key:2,name:"close",class:"yc-input-clear-button",onClick:o[6]||(o[6]=e=>j("clear",e))})):r.createCommentVNode("",!0),t.$slots.suffix||t.$slots.extra||_.value?(r.openBlock(),r.createElementBlock("div",c,[_.value?(r.openBlock(),r.createElementBlock("span",p,a.toDisplayString(u.unref($).length)+" / "+a.toDisplayString(u.unref(V)),1)):r.createCommentVNode("",!0),t.$slots.extra?r.renderSlot(t.$slots,"extra",{key:1},void 0,!0):r.createCommentVNode("",!0),r.renderSlot(t.$slots,"suffix",{},void 0,!0)])):r.createCommentVNode("",!0)],4),t.$slots.append?(r.openBlock(),r.createElementBlock("div",m,[r.renderSlot(t.$slots,"append",{},void 0,!0)])):r.createCommentVNode("",!0)],2)}}});module.exports=f;
