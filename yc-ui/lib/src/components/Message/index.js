"use strict";require("../../../node_modules/vue/dist/vue.runtime.esm-bundler.js");const e=require("./index.vue.js"),n=require("../_utils/global-config.js"),s=require("./constants.js"),i=require("./container.vue.js"),t=require("../../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js"),r=require("../../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js"),u=require("../../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js"),d=r.ref([]);let o=0;const l=async e=>{var n;const s=d.value.find((n=>n.id===e));if(!s)return;null==(n=null==s?void 0:s.onClose)||n.call(s,e);const i=d.value.findIndex((n=>n.id===e));d.value.splice(i,1)},c=(e,n)=>{(()=>{if(!document.getElementById(s.config.containerId)){const e=document.createElement("div");e.id=s.config.containerId,document.body.append(e);const n=u.createVNode(i,{messageList:d.value,onClose:l});t.render(n,e)}})();const c=(null==n?void 0:n.id)??"__yc_message_"+o++,a=d.value.findIndex((e=>e.id===c));return-1!==a?Object.assign(d.value[a],{...n,type:e,id:c,resetFlag:!d.value[a].resetFlag}):d.value.push(r.reactive({...n,type:e,id:c})),{close:()=>l(c)}},a=s.messageType.reduce(((e,n)=>(e[n]=e=>c(n,e),e)),{}),m=Object.assign(e,{install:s=>{s.component(n.getComponentPrefix()+e.name,e)},clear:()=>{d.value.splice(0)},...a});module.exports=m;
