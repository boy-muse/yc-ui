"use strict";require("../../../node_modules/vue/dist/vue.runtime.esm-bundler.js");const e=require("../_hooks/useModalDraggable.js"),o=require("../_hooks/useCloseCompt.js"),l=require("../Button/Button.vue.js"),t=require("../../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js"),a=require("../../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js"),n=require("../../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js"),r=require("../../../node_modules/@vue/shared/dist/shared.esm-bundler.js"),d={key:0,class:"yc-modal-container"},s={key:0,class:"yc-modal-footer"},i=t.defineComponent({name:"Modal",__name:"index",props:{visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},width:{default:520},top:{default:100},mask:{type:Boolean,default:!0},title:{default:""},titleAlign:{default:"center"},alignCenter:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},hideCancel:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},okText:{default:"确认"},cancelText:{default:"取消"},okLoading:{type:Boolean,default:!1},okButtonProps:{default:()=>({})},cancelButtonProps:{default:()=>({})},footer:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},popupContainer:{default:"body"},maskStyle:{default:()=>({})},modalClass:{default:""},modalStyle:{default:()=>({})},escToClose:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},maskAnimationName:{default:"fade"},modalAnimationName:{default:"zoom-modal"},bodyClass:{default:""},bodyStyle:{default:()=>({})},hideTitle:{type:Boolean,default:!1}},emits:["update:visible","ok","cancel","open","beforeOpen","close","beforeClose"],setup(i,{emit:u}){const c=i,m=u,{visible:f,defaultVisible:p,width:y,top:k,alignCenter:C,maskClosable:B,escToClose:b,modalStyle:v,fullscreen:g,draggable:h}=a.toRefs(c),{outerVisible:V,innerVisible:N,closeType:S,handleClose:T,handleAfterLeave:w}=o(m,{visible:f,defaultVisible:p,escToClose:b,maskClosable:B}),_=a.ref(),x=a.ref(),{dragStyle:E,isDraggable:A}=e({visible:N,draggable:h,fullscreen:g,alignCenter:C,top:k,triggerRef:_,modalRef:x}),j=t.computed((()=>({width:g.value?"100%":y.value+"px",...E.value,...v.value})));return(e,o)=>{const i=t.resolveComponent("yc-icon-button");return t.openBlock(),t.createBlock(t.Teleport,{to:e.popupContainer,disabled:!e.renderToBody},[!e.unmountOnClose||a.unref(V)?t.withDirectives((t.openBlock(),t.createElementBlock("div",d,[t.createVNode(n.Transition,{name:e.maskAnimationName,appear:""},{default:t.withCtx((()=>[e.mask?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:0,class:"yc-modal-mask",style:r.normalizeStyle(e.maskStyle)},null,4)),[[n.vShow,a.unref(N)]]):t.createCommentVNode("",!0)])),_:1},8,["name"]),t.createElementVNode("div",{class:"yc-modal-wrapper",onClick:o[6]||(o[6]=e=>a.unref(T)("mask"))},[t.createVNode(n.Transition,{name:e.modalAnimationName,appear:"",onBeforeEnter:o[3]||(o[3]=o=>e.$emit("beforeOpen")),onBeforeLeave:o[4]||(o[4]=o=>e.$emit("beforeClose",a.unref(S))),onAfterEnter:o[5]||(o[5]=o=>e.$emit("open")),onAfterLeave:a.unref(w)},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:r.normalizeClass(["yc-modal",a.unref(g)?"yc-modal-fullscreen":"",a.unref(A)?"yc-modal-draggable":"",e.modalClass]),style:r.normalizeStyle(j.value),ref_key:"modalRef",ref:x,onClick:n.withModifiers((()=>{}),["stop"])},[t.createElementVNode("div",{class:"yc-modal-header",ref_key:"headerRef",ref:_},[e.hideTitle?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",{key:0,class:r.normalizeClass({"yc-modal-title":!0,"text-ellipsis":!0,"title-align-center":"center"==e.titleAlign})},[t.renderSlot(e.$slots,"title",{},(()=>[t.createElementVNode("span",null,r.toDisplayString(e.title),1)]),!0)],2)),e.closable?(t.openBlock(),t.createBlock(i,{key:1,name:"close",class:"yc-modal-close-button",onClick:o[0]||(o[0]=e=>a.unref(T)("closeBtn"))})):t.createCommentVNode("",!0)],512),t.createElementVNode("div",{class:r.normalizeClass(["yc-modal-body",e.bodyClass]),style:r.normalizeStyle(e.bodyStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],6),e.footer?(t.openBlock(),t.createElementBlock("div",s,[t.renderSlot(e.$slots,"footer",{},(()=>[e.hideCancel?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(l,t.mergeProps({key:0},e.cancelButtonProps,{onClick:o[1]||(o[1]=e=>a.unref(T)("cancelBtn"))}),{default:t.withCtx((()=>[t.createTextVNode(r.toDisplayString(e.cancelText),1)])),_:1},16)),t.createVNode(l,t.mergeProps({type:"primary",loading:e.okLoading},e.okButtonProps,{onClick:o[2]||(o[2]=e=>a.unref(T)("confirmBtn"))}),{default:t.withCtx((()=>[t.createTextVNode(r.toDisplayString(e.okText),1)])),_:1},16,["loading"])]),!0)])):t.createCommentVNode("",!0)],6),[[n.vShow,a.unref(N)]])])),_:3},8,["name","onAfterLeave"])])],512)),[[n.vShow,a.unref(V)]]):t.createCommentVNode("",!0)],8,["to","disabled"])}}});module.exports=i;
