"use strict";require("../../../node_modules/vue/dist/vue.runtime.esm-bundler.js");const e=require("../../../node_modules/@vueuse/core/index.js"),t=require("../_hooks/useControlValue.js"),i=require("../../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js"),o=require("../../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js"),r=require("../../../node_modules/@vue/shared/dist/shared.esm-bundler.js"),l=["id","onMousedown"],n={class:"yc-resizebox-trigger-icon-wrapper"},u=i.defineComponent({name:"ResizeBox",__name:"index",props:{directions:{default:()=>["right"]},width:{},height:{},component:{default:"div"}},emits:["update:width","update:height","moving-start","moving-end","moving"],setup(u,{emit:s}){const a=u,d=s,{width:c,height:m}=o.toRefs(a),v=t(c,c.value,(e=>{d("update:width",e)})),h=t(m,m.value,(e=>{d("update:height",e)})),g=o.ref(),x={},p=o.ref({top:0,right:0,bottom:0,left:0}),f=o.ref();let y=null,b="auto";const w=e=>["right","left"].includes(e)?"vertical":"horizontal",z=e=>{if(e.includes("%"))return 0;const t=e.split("px")[0],i=parseFloat(t);return isNaN(i)?0:i},H=i.computed((()=>{if(g.value){const e=window.getComputedStyle(g.value);return{width:g.value.offsetWidth,height:g.value.offsetHeight,minWidth:z(e.minWidth),maxWidth:z(e.maxWidth),minHeight:z(e.minHeight),maxHeight:z(e.maxHeight)}}return{minWidth:0,maxWidth:0,minHeight:0,maxHeight:0}})),W=i.computed((()=>({padding:`${p.value.top??0}px ${p.value.right??0}px ${p.value.bottom??0}px ${p.value.left??0}px`,width:v.value+"px",height:h.value+"px"})));return e.useEventListener("mousemove",(e=>{if(f.value&&y){if(["right","left"].includes(f.value)){const t=v.value??H.value.width,i=e.x-y.x;let o=t+("right"===f.value?i:-i);o<H.value.minWidth&&(o=H.value.minWidth),0!==H.value.maxWidth&&o>H.value.maxWidth&&(o=H.value.maxWidth),v.value=o}else{const t=e.y-y.y;let i=(h.value??H.value.height)+("bottom"===f.value?t:-t);i<H.value.minHeight&&(i=H.value.minHeight),0!==H.value.maxHeight&&i>H.value.maxHeight&&(i=H.value.maxHeight),h.value=i}y={x:e.x,y:e.y},d("moving",e,{width:v.value,height:h.value})}})),e.useEventListener("mouseup",(e=>{f.value&&(f.value=void 0,document.body.style.cursor=b,d("moving-end",e))})),i.onMounted((()=>{e.useResizeObserver((()=>Object.values(x)),(e=>{e.forEach((e=>{const t=e.target.id.split("direction-")[1];["right","left"].includes(t)?p.value[t]=e.contentRect.width:p.value[t]=e.contentRect.height}))}),{box:"border-box"})})),(e,t)=>{const o=i.resolveComponent("yc-icon");return i.openBlock(),i.createBlock(i.resolveDynamicComponent(e.component),{class:r.normalizeClass({"yc-resizebox":!0,"no-select":f.value}),ref_key:"boxRef",ref:g,style:r.normalizeStyle(W.value)},{default:i.withCtx((()=>[i.renderSlot(e.$slots,"default",{},void 0,!0),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.directions,(t=>(i.openBlock(),i.createElementBlock("div",{key:t,class:r.normalizeClass(["yc-resizebox-trigger",`yc-resizebox-direction-${t}`,`direction-${w(t)}`]),id:`direction-${t}`,ref_for:!0,ref:e=>((e,t)=>{t&&(x[e]=t)})(t,e),onMousedown:e=>((e,t)=>{f.value=e,y={x:t.x,y:t.y},b=window.getComputedStyle(document.body).cursor,document.body.style.cursor=["right","left"].includes(f.value)?"col-resize":"row-resize",d("moving-start",t)})(t,e)},[i.renderSlot(e.$slots,"resize-trigger",{direction:t},(()=>[i.createElementVNode("div",n,[i.renderSlot(e.$slots,"resize-trigger-icon",{direction:t},(()=>[i.createVNode(o,{name:"vertical"===w(t)?"drag-dot-vertical":"drag-dot",size:12},null,8,["name"])]),!0)])]),!0)],42,l)))),128))])),_:3},8,["class","style"])}}});module.exports=u;
