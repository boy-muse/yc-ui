"use strict";require("../../../node_modules/vue/dist/vue.runtime.esm-bundler.js");const e=require("../../../node_modules/@vueuse/core/index.js"),u=require("./useControlValue.js"),s=require("../../../node_modules/@vueuse/shared/index.js"),l=require("../../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js"),r=require("../../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js");module.exports=(i,a)=>{const{maskClosable:o,escToClose:n,visible:d,defaultVisible:t}=a,v=l.ref(!1),c=u(d,t.value,(e=>i("update:visible",e))),m=l.ref(""),b=async e=>{m.value=e,"confirmBtn"==e?i("ok"):i("cancel",m.value),("mask"!=e||o.value)&&(c.value=!1)};return(()=>{const u=e.useMagicKeys();s.whenever(u.escape,(()=>{n.value&&c.value&&b("esc")}))})(),r.watch((()=>c.value),(e=>{m.value="",e&&(v.value=!0)}),{immediate:!0}),{closeType:m,outerVisible:v,innerVisible:c,handleClose:b,handleAfterLeave:()=>{i("close",m.value),v.value=!1}}};
