"use strict";require("../../../node_modules/vue/dist/vue.runtime.esm-bundler.js");const e=require("../_utils/fn.js"),u=require("../../../node_modules/@vueuse/core/index.js"),l=require("../../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js"),a=require("../../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js");module.exports=t=>{const{visible:r,triggerRef:v,modalRef:i,draggable:n,fullscreen:s,alignCenter:o,top:d}=t,m=l.ref(0),f=l.ref(0),{x:g,y:c,isDragging:p}=u.useDraggable(v),w=a.computed((()=>n.value&&!s.value)),h=a.computed((()=>!w.value||g.value==m.value&&c.value==f.value?{left:`${m.value}px`,top:`${f.value}px`}:{transform:`translate(${g.value}px,${c.value}px)`}));return u.useEventListener("mousemove",(()=>{if(!p.value||!w.value)return;const e=window.innerWidth-i.value.offsetWidth,u=window.innerHeight-i.value.offsetHeight;g.value=g.value>=e?e:g.value,g.value=g.value<=0?0:g.value,c.value=c.value>=u?u:c.value,c.value=c.value<=0?0:c.value})),a.watch((()=>r.value),(async u=>{if(!u)return;await e.sleep(0);const l=(window.innerWidth-i.value.offsetWidth)/2,a=(window.innerHeight-i.value.offsetHeight)/2,t=l<=0?0:l,r=a<=0?0:a;m.value=t,f.value=o.value?r:d.value,g.value=m.value,c.value=f.value}),{immediate:!0}),{dragStyle:h,isDraggable:w}};
